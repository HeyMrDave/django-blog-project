{% extends 'nav.html' %}

{% block content %}
<div class="container my-5">
    <h1 class="text-center mb-4 text-info fw-bold">üîç Resultados de tu b√∫squeda</h1>

    {% if titulo %}
        <h3 class="text-center mb-4">Buscaste: <span class="text-primary">{{ titulo }}</span></h3>

        {% if articulos %}
            <div class="row g-4">
                {% for art in articulos %}
                <div class="col-md-6 col-lg-4">
                    <div class="card shadow-sm h-100 border-0 rounded-3">
                        
                        {% if art.imagen_art %}
                        <img src="{{ art.imagen_art.url }}" class="card-img-top rounded-top" alt="{{ art.titulo }}">
                        {% endif %}
                        
                        <div class="card-body">
                            <h5 class="card-title fw-bold">{{ art.titulo }}</h5>
                            <p class="card-text text-muted">{{ art.contenido|truncatewords:20 }}</p>
                        </div>

                        <div class="card-footer bg-white">
                            <p class="mb-1"><strong>üë§ Autor:</strong> {{ art.autor }}</p>
                            <p class="mb-2"><strong>üìÇ Categor√≠a:</strong> {{ art.categoria_art.titulo }}</p>
                            <a href="{% url 'detalles_art' art.id %}" class="btn btn-sm btn-info w-100">
                                üìñ Ver detalles
                            </a>
                        </div>

                    </div>
                </div>
                {% endfor %}
            </div>
        {% else %}
            <p class="text-center text-muted fs-5">No existen art√≠culos relacionados con "{{ titulo }}".</p>
        {% endif %}

    {% else %}
        <p class="text-center text-muted fs-5">No ingresaste un t√©rmino de b√∫squeda v√°lido.</p>
    {% endif %}
</div>
{% endblock %}
